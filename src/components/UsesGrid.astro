---
// Enhanced UsesGrid component with improved video styling
const usesData = [
  {
    type: 'text',
    icon: 'fa-home',
    title: 'USO RESIDENCIAL',
    description: 'Perfecta para hogares en Mérida, Yucatán que buscan agua de la más alta calidad sin complicaciones.',
    color: 'blue'
  },
  {
    type: 'text',
    icon: 'fa-building',
    title: 'USO COMERCIAL',
    description: 'Ideal para oficinas, gimnasios, restaurantes y negocios en Mérida, Yucatán que requieren agua pura constantemente.',
    color: 'cyan'
  },
  {
    type: 'image',
    src: '/assets/maquina-dispensadora2.png',
    alt: 'Dispensador de agua Purifreze - Sistema de purificación moderno'
  },
  {
    type: 'video',
    src: '/assets/instalacion.mp4',
    label: 'Instalación Parte 1',
    icon: 'fa-tools'
  },
  {
    type: 'video',
    src: '/assets/instalacion2.mp4',
    label: 'Instalación Parte 2',
    icon: 'fa-wrench'
  },
  // {
  //   type: 'video',
  //   src: '/assets/promocion.mp4',
  //   label: 'Demo Completo',
  //   icon: 'fa-play-circle',
  //   featured: true
  // },
];
---

<section class="py-24 bg-white">
  <div class="max-w-[1200px] mx-auto px-6">
    <!-- Header -->
    <div class="text-center mb-16">
      <div class="inline-flex items-center gap-2 mb-4 px-4 py-2 bg-gradient-to-r from-blue-100 to-cyan-100 rounded-full">
        <i class="fa-solid fa-grid text-blue-600"></i>
        <span class="text-xs font-bold uppercase tracking-widest text-blue-700">
          Aplicaciones
        </span>
      </div>
      <h2 class="text-4xl md:text-5xl font-bold text-slate-900 mb-4">
        Usos del purificador de agua
      </h2>
      <p class="text-lg text-slate-600 max-w-2xl mx-auto">
        Versatilidad para cada necesidad: hogares, oficinas y negocios
      </p>
    </div>

    <!-- Grid -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
      {usesData.map((item, index) => (
        <div class={`${index === 2 ? 'lg:row-span-2' : ''}`}>
          {item.type === 'text' && (
            <div class={`h-full bg-gradient-to-br ${
              item.color === 'blue' 
                ? 'from-blue-50 to-blue-100 border-blue-200' 
                : 'from-cyan-50 to-cyan-100 border-cyan-200'
            } border-2 rounded-3xl p-8 hover:shadow-xl transition-all duration-300 hover:-translate-y-1 group`}>
              <div class={`w-16 h-16 rounded-2xl ${
                item.color === 'blue' ? 'bg-blue-500' : 'bg-cyan-500'
              } flex items-center justify-center mb-6 group-hover:scale-110 transition-transform`}>
                <i class={`fa-solid ${item.icon} text-white text-2xl`}></i>
              </div>
              <h3 class={`text-xl font-black ${
                item.color === 'blue' ? 'text-blue-900' : 'text-cyan-900'
              } mb-3 uppercase tracking-wide`}>
                {item.title}
              </h3>
              <p class="text-slate-700 leading-relaxed">
                {item.description}
              </p>
            </div>
          )}

          {item.type === 'image' && (
            <div class="h-full group cursor-pointer overflow-hidden rounded-3xl shadow-xl hover:shadow-2xl transition-all duration-300">
              <div class="relative h-full">
                <img 
                  src={item.src}
                  alt={item.alt}
                  class="w-full h-full object-cover transition duration-700 group-hover:scale-110"
                />
                <div class="absolute inset-0 bg-gradient-to-t from-blue-900/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
                <div class="absolute bottom-6 left-6 right-6 opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                  <p class="text-white font-bold text-lg drop-shadow-lg">
                    Sistema de Purificación Profesional
                  </p>
                </div>
              </div>
            </div>
          )}

          {item.type === 'video' && (
            <div class="h-full group">
              <div class="relative h-full rounded-3xl overflow-hidden shadow-xl hover:shadow-2xl transition-all duration-300 hover:-translate-y-1">
                <!-- Gradient border on hover -->
                <div class="absolute inset-0 bg-gradient-to-br from-blue-500 via-cyan-500 to-blue-600 opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-3xl p-[3px] -z-10"></div>
                
                <!-- Video wrapper -->
                <div class="relative h-full bg-slate-900 rounded-3xl overflow-hidden">
                  <video 
                    class="w-full h-full object-cover"
                    muted 
                    loop 
                    playsinline 
                    controls
                    preload="metadata"
                  >
                    <source src={item.src} type="video/mp4" />
                  </video>
                  
                  <!-- Overlay decoration -->
                  <div class="absolute inset-0 bg-gradient-to-t from-slate-900/80 via-transparent to-transparent pointer-events-none"></div>
                  
                  <!-- Label -->
                  <div class="absolute bottom-0 left-0 right-0 p-4 pointer-events-none">
                    <div class="flex items-center gap-3">
                      <div class="w-10 h-10 rounded-full bg-blue-500/20 backdrop-blur-sm flex items-center justify-center">
                        <i class={`fa-solid ${item.icon} text-white`}></i>
                      </div>
                      <div>
                        <p class="text-white font-bold text-sm drop-shadow-lg">
                          {item.label}
                        </p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          )}
        </div>
      ))}
    </div>

    <!-- Bottom CTA -->
    <div class="text-center mt-16">
      <a 
        href="https://wa.me/5219991336108?text=Hola,%20quiero%20información%20sobre%20el%20purificador%20de%20agua" 
        target="_blank"
        rel="noopener noreferrer"
        class="inline-flex items-center gap-3 bg-gradient-to-r from-blue-600 to-cyan-500 text-white px-10 py-5 rounded-full font-bold text-lg shadow-xl shadow-blue-500/30 hover:shadow-2xl hover:shadow-blue-500/40 transition-all transform hover:scale-105"
      >
        <i class="fa-brands fa-whatsapp text-2xl"></i>
        <span>Solicita una Demostración</span>
        <i class="fa-solid fa-arrow-right"></i>
      </a>
      <p class="text-sm text-slate-500 mt-4">
        Instalación profesional • Sin costo inicial
      </p>
    </div>
  </div>
</section>

<style>
  /* Video controls styling */
  video::-webkit-media-controls-panel {
    background-image: linear-gradient(transparent, rgba(0, 0, 0, 0.5));
  }
</style>
